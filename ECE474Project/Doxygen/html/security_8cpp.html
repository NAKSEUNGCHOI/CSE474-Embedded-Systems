<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: ECE474Final/security.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc3fd1995b5571208c0377a6fb755caa.html">ECE474Final</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">security.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Security system using HC-SR501 sensor. @description: When users activates the security system, HC-SR501 sensor turns on. If there is any motion detected, the alarm and LEDs go off.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="security_8h_source.html">security.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_e_c_e474_final_8h_source.html">ECE474Final.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1fffc0db36da4adfcc92d75e9e9d148d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8cpp.html#a1fffc0db36da4adfcc92d75e9e9d148d">TaskSecurity</a> (void *pvParameters)</td></tr>
<tr class="memdesc:a1fffc0db36da4adfcc92d75e9e9d148d"><td class="mdescLeft">&#160;</td><td class="mdescRight">TaskSecurity.  <a href="security_8cpp.html#a1fffc0db36da4adfcc92d75e9e9d148d">More...</a><br /></td></tr>
<tr class="separator:a1fffc0db36da4adfcc92d75e9e9d148d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcbe56d9bf4d714d56546338a7f2564"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8cpp.html#acfcbe56d9bf4d714d56546338a7f2564">Security_setup</a> ()</td></tr>
<tr class="memdesc:acfcbe56d9bf4d714d56546338a7f2564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Security system setup.  <a href="security_8cpp.html#acfcbe56d9bf4d714d56546338a7f2564">More...</a><br /></td></tr>
<tr class="separator:acfcbe56d9bf4d714d56546338a7f2564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2599a03d928787ba80e72488e4a6667e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8cpp.html#a2599a03d928787ba80e72488e4a6667e">Speaker_setup</a> ()</td></tr>
<tr class="memdesc:a2599a03d928787ba80e72488e4a6667e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Speaker setup. same as lab 2 and 3.  <a href="security_8cpp.html#a2599a03d928787ba80e72488e4a6667e">More...</a><br /></td></tr>
<tr class="separator:a2599a03d928787ba80e72488e4a6667e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a520643fae9a5bb426c0c6d4affa68a01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8cpp.html#a520643fae9a5bb426c0c6d4affa68a01">set_OC3A_freq</a> (uint32_t freq)</td></tr>
<tr class="memdesc:a520643fae9a5bb426c0c6d4affa68a01"><td class="mdescLeft">&#160;</td><td class="mdescRight">a function to generate tones. same as lab 2 and 3.  <a href="security_8cpp.html#a520643fae9a5bb426c0c6d4affa68a01">More...</a><br /></td></tr>
<tr class="separator:a520643fae9a5bb426c0c6d4affa68a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7411fecd0337542705baaf3cb80d3bdf"><td class="memItemLeft" align="right" valign="top"><a id="a7411fecd0337542705baaf3cb80d3bdf" name="a7411fecd0337542705baaf3cb80d3bdf"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ledPin1</b> = 12</td></tr>
<tr class="separator:a7411fecd0337542705baaf3cb80d3bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb9679f02c2142093d8152c0664d87e"><td class="memItemLeft" align="right" valign="top"><a id="aebb9679f02c2142093d8152c0664d87e" name="aebb9679f02c2142093d8152c0664d87e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ledPin2</b> = 11</td></tr>
<tr class="separator:aebb9679f02c2142093d8152c0664d87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a872d097b99d83dfbe728b68f1aa839bd"><td class="memItemLeft" align="right" valign="top"><a id="a872d097b99d83dfbe728b68f1aa839bd" name="a872d097b99d83dfbe728b68f1aa839bd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>ledPin3</b> = 10</td></tr>
<tr class="separator:a872d097b99d83dfbe728b68f1aa839bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ceac5a04da19e40ba3a1140e2796e72"><td class="memItemLeft" align="right" valign="top"><a id="a2ceac5a04da19e40ba3a1140e2796e72" name="a2ceac5a04da19e40ba3a1140e2796e72"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pirPin</b> = 48</td></tr>
<tr class="separator:a2ceac5a04da19e40ba3a1140e2796e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe3297694c6e193d33eef602fb200dd6"><td class="memItemLeft" align="right" valign="top"><a id="abe3297694c6e193d33eef602fb200dd6" name="abe3297694c6e193d33eef602fb200dd6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pirValue</b></td></tr>
<tr class="separator:abe3297694c6e193d33eef602fb200dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c8a5eda9a66e3eae61c7c18e163d43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="security_8cpp.html#a56c8a5eda9a66e3eae61c7c18e163d43">melody</a> []</td></tr>
<tr class="separator:a56c8a5eda9a66e3eae61c7c18e163d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d8b1803746d9e146fb68347fcbb9b3"><td class="memItemLeft" align="right" valign="top"><a id="a11d8b1803746d9e146fb68347fcbb9b3" name="a11d8b1803746d9e146fb68347fcbb9b3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>melody2</b> [] = { NOTE_C6, NOTE_E6, NOTE_G6 }</td></tr>
<tr class="separator:a11d8b1803746d9e146fb68347fcbb9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Security system using HC-SR501 sensor. @description: When users activates the security system, HC-SR501 sensor turns on. If there is any motion detected, the alarm and LEDs go off. </p>
<dl class="section author"><dt>Author</dt><dd>Nakseung Choi 1572578 Kejin Li 1978130 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>01-June-2022 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="acfcbe56d9bf4d714d56546338a7f2564" name="acfcbe56d9bf4d714d56546338a7f2564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfcbe56d9bf4d714d56546338a7f2564">&#9670;&nbsp;</a></span>Security_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Security_setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Security system setup. </p>
<p ><a class="el" href="security_8cpp.html#acfcbe56d9bf4d714d56546338a7f2564" title="Security system setup.">Security_setup()</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">LED_DDRB</td><td>DDRB </td></tr>
    <tr><td class="paramname">DDRL</td><td>this is for the sensor input. </td></tr>
    <tr><td class="paramname">PIN12</td><td>PIN 12 ~ 10 for LEDs. They start LOW. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a520643fae9a5bb426c0c6d4affa68a01" name="a520643fae9a5bb426c0c6d4affa68a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520643fae9a5bb426c0c6d4affa68a01">&#9670;&nbsp;</a></span>set_OC3A_freq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_OC3A_freq </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>freq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a function to generate tones. same as lab 2 and 3. </p>
<p ><a class="el" href="security_8cpp.html#a520643fae9a5bb426c0c6d4affa68a01" title="a function to generate tones. same as lab 2 and 3.">set_OC3A_freq(uint32_t freq)</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PRE_SCALE</td><td>The function receives one frequency at a time and set N to OCR3A. </td></tr>
    <tr><td class="paramname">TCNT4_COUNTER</td><td>set to 0 to start at 0. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2599a03d928787ba80e72488e4a6667e" name="a2599a03d928787ba80e72488e4a6667e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2599a03d928787ba80e72488e4a6667e">&#9670;&nbsp;</a></span>Speaker_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Speaker_setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Speaker setup. same as lab 2 and 3. </p>
<p ><a class="el" href="security_8cpp.html#a2599a03d928787ba80e72488e4a6667e" title="Speaker setup. same as lab 2 and 3.">Speaker_setup()</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SYSTEM_REG_A</td><td>TCCR3A to enable "compare output mode" </td></tr>
    <tr><td class="paramname">SYSTEM_REG_B</td><td>TCCR3B to enable WGM and pre-scale </td></tr>
    <tr><td class="paramname">PRE_SCALE</td><td>pre-scale is set to 8 for this application. </td></tr>
    <tr><td class="paramname">TCNT4_COUNTER</td><td>set to 0 to start at 0. </td></tr>
    <tr><td class="paramname">SPEAKER_DDRE</td><td>TCCR3A is designated to PIN5. </td></tr>
    <tr><td class="paramname">SPEAKER_PORTE</td><td>TCCR3A is designated to PIN5. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1fffc0db36da4adfcc92d75e9e9d148d" name="a1fffc0db36da4adfcc92d75e9e9d148d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fffc0db36da4adfcc92d75e9e9d148d">&#9670;&nbsp;</a></span>TaskSecurity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TaskSecurity </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvParameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TaskSecurity. </p>
<p ><a class="el" href="security_8cpp.html#a1fffc0db36da4adfcc92d75e9e9d148d" title="TaskSecurity.">TaskSecurity( void *pvParameters )</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Security_setup</td><td>Security system setup </td></tr>
    <tr><td class="paramname">Speaker_setup</td><td>Security system setup </td></tr>
    <tr><td class="paramname">temp</td><td>int pointer to receive a global variable (mode). This security system activates when the main system is de-activiated. </td></tr>
    <tr><td class="paramname">time</td><td>duration of the time to turn the LED and speaker on when an objected is detected. </td></tr>
    <tr><td class="paramname">count</td><td>number of tone. It sets back to zero to play again when it plays all of the tones. </td></tr>
    <tr><td class="paramname">deactivate</td><td>deactivate the alarm and LEDs and turns the system back on. Used to indicate when to turn on the second melody. @description: As an user activates the security system by pressing A on the keyboard, the security system turns on. if an objected is detected by the HC-SR501 sensor, the alarm and LEDs turn on. To turn it off, the user must type the password. It makes the second tone indicating that the alarm and LEDs are off. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a56c8a5eda9a66e3eae61c7c18e163d43" name="a56c8a5eda9a66e3eae61c7c18e163d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c8a5eda9a66e3eae61c7c18e163d43">&#9670;&nbsp;</a></span>melody</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int melody[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= { NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7,</div>
<div class="line">                 NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7,</div>
<div class="line">                 NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7,</div>
<div class="line">                 NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7, NOTE_E7, NOTE_C7 }</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
